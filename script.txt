/c
recipes = {}
i = 1
game.print("print test")
for  _, v in pairs(game.recipe_prototypes) do
	local r = {}
	r["name"] = v.name
	r["ingredients"] = v.ingredients
	r["products"] = v.products
	r["energy"] = v.energy
	r["group"] = v.group.name
	r["subgroup"] = v.subgroup.name
	recipes[i] = r
	i = i + 1
	game.print(i)
end
game.write_file("recipes.lua", serpent.block(recipes))


/c
machines = {}
game.print("print test")
for  k, v in pairs(game.entity_prototypes) do
	if (v.type == "assembling-machine") then
		game.print(k)
		local m = {}
		m["crafting_speed"] = v.crafting_speed
		m["crafting_categories"] = {}
		for name,_ in pairs(v.crafting_categories) do 
				
			table.insert(m["crafting_categories"], name)
		end
		machines[k] = m
		
	end
end
game.write_file("machines.lua", serpent.block(machines))
